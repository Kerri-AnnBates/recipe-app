{"ast":null,"code":"var _jsxFileName = \"/Users/kerri-annbates/Documents/projects/recipe-app/client/src/components/recipe/AddIngredients.js\";\nimport React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'reactstrap';\nimport { getIngredients, addIngredientsToRecipe, getIngredientsByRecipeId } from '../../redux/actions/ingredient-actions';\n\nfunction AddIngredients(props) {\n  const {\n    getIngredients,\n    ingredients,\n    isFetching,\n    addedRecipe,\n    addIngredientsToRecipe,\n    getIngredientsByRecipeId,\n    added,\n    addedIngredients\n  } = props;\n  const [search, setSearch] = useState('');\n  const [filteredIngredients, setFilteredIngredients] = useState([]);\n  useEffect(() => {\n    getIngredients();\n  }, []);\n  useEffect(() => {\n    setFilteredIngredients(ingredients);\n  }, [ingredients]);\n  useEffect(() => {\n    setFilteredIngredients(ingredients.filter(ingredient => {\n      return ingredient.name.toLowerCase().includes(search.toLowerCase());\n    }));\n  }, [search]);\n  useEffect(() => {\n    getIngredientsByRecipeId(addedRecipe);\n    console.log(\"Added ingredient\", addedIngredients);\n  }, [added]);\n\n  function handleChange(e) {\n    setSearch(e.target.value);\n  }\n\n  function AddIngredientToRecipe(ingredient) {\n    const data = {\n      \"recipe_id\": addedRecipe\n    };\n    addIngredientsToRecipe(ingredient.id, data);\n  }\n\n  return React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"container\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, React.createElement(\"h1\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"Add Ingredients\"), React.createElement(\"section\", {\n    className: \"ingredients-list\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  }, React.createElement(\"div\", {\n    className: \"ingredients-block\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 57\n    },\n    __self: this\n  }, React.createElement(\"input\", {\n    type: \"text\",\n    name: \"ingredients\",\n    id: \"ingredient-search\",\n    placeholder: \"Search ingredient...\",\n    value: search,\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59\n    },\n    __self: this\n  }), isFetching && React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, \"Loading ingredients...\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, !isFetching && filteredIngredients.map(ingredient => React.createElement(\"li\", {\n    key: ingredient.id,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, ingredient.name, React.createElement(Button, {\n    color: \"primary\",\n    onClick: () => AddIngredientToRecipe(ingredient),\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \"Add\")))))), React.createElement(\"section\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77\n    },\n    __self: this\n  }, React.createElement(\"h2\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }, \"Included ingredients\"), React.createElement(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 79\n    },\n    __self: this\n  }, React.createElement(\"p\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 80\n    },\n    __self: this\n  }, \"list of ingredients\"), React.createElement(\"ul\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 83\n    },\n    __self: this\n  }, addedIngredients.map(ingredient => React.createElement(\"li\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 85\n    },\n    __self: this\n  }, ingredient.name))))), React.createElement(Button, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92\n    },\n    __self: this\n  }, \"Save\")));\n} // export default AddIngredients;\n\n\nfunction mapStateToProps(state) {\n  return {\n    isFetching: state.ingredientsReducer.isFetching,\n    ingredients: state.ingredientsReducer.ingredients,\n    addedRecipe: state.recipesReducer.addedRecipe,\n    addedIngredients: state.ingredientsReducer.addedIngredients,\n    added: state.ingredientsReducer.added\n  };\n}\n\nexport default connect(mapStateToProps, {\n  getIngredients,\n  addIngredientsToRecipe,\n  getIngredientsByRecipeId\n})(AddIngredients);","map":{"version":3,"sources":["/Users/kerri-annbates/Documents/projects/recipe-app/client/src/components/recipe/AddIngredients.js"],"names":["React","useEffect","useState","connect","Button","getIngredients","addIngredientsToRecipe","getIngredientsByRecipeId","AddIngredients","props","ingredients","isFetching","addedRecipe","added","addedIngredients","search","setSearch","filteredIngredients","setFilteredIngredients","filter","ingredient","name","toLowerCase","includes","console","log","handleChange","e","target","value","AddIngredientToRecipe","data","id","map","mapStateToProps","state","ingredientsReducer","recipesReducer"],"mappings":"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","sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { connect } from 'react-redux';\nimport { Button } from 'reactstrap';\nimport { getIngredients, addIngredientsToRecipe, getIngredientsByRecipeId } from '../../redux/actions/ingredient-actions';\n\nfunction AddIngredients(props) {\n\n\tconst { getIngredients,\n\t\tingredients,\n\t\tisFetching,\n\t\taddedRecipe,\n\t\taddIngredientsToRecipe,\n\t\tgetIngredientsByRecipeId,\n\t\tadded,\n\t\taddedIngredients\n\t} = props;\n\tconst [search, setSearch] = useState('');\n\tconst [filteredIngredients, setFilteredIngredients] = useState([]);\n\n\n\tuseEffect(() => {\n\t\tgetIngredients();\n\t}, [])\n\n\tuseEffect(() => {\n\t\tsetFilteredIngredients(ingredients);\n\t}, [ingredients])\n\n\tuseEffect(() => {\n\t\tsetFilteredIngredients(\n\t\t\tingredients.filter((ingredient) => {\n\t\t\t\treturn ingredient.name.toLowerCase().includes(search.toLowerCase());\n\t\t\t})\n\t\t);\n\t}, [search])\n\n\tuseEffect(() => {\n\t\tgetIngredientsByRecipeId(addedRecipe);\n\t\tconsole.log(\"Added ingredient\", addedIngredients);\n\t}, [added])\n\n\tfunction handleChange(e) {\n\t\tsetSearch(e.target.value)\n\t}\n\n\tfunction AddIngredientToRecipe(ingredient) {\n\t\tconst data = {\n\t\t\t\"recipe_id\": addedRecipe,\n\t\t}\n\t\taddIngredientsToRecipe(ingredient.id, data);\n\t}\n\treturn (\n\t\t<div>\n\t\t\t<div className=\"container\">\n\t\t\t\t<h1>Add Ingredients</h1>\n\t\t\t\t<section className=\"ingredients-list\">\n\t\t\t\t\t<div className=\"ingredients-block\">\n\t\t\t\t\t\t{/* search box to filter out ingredients */}\n\t\t\t\t\t\t<input\n\t\t\t\t\t\t\ttype=\"text\"\n\t\t\t\t\t\t\tname=\"ingredients\"\n\t\t\t\t\t\t\tid=\"ingredient-search\"\n\t\t\t\t\t\t\tplaceholder=\"Search ingredient...\"\n\t\t\t\t\t\t\tvalue={search}\n\t\t\t\t\t\t\tonChange={handleChange}\n\t\t\t\t\t\t/>\n\n\t\t\t\t\t\t{/* List ingredients */}\n\t\t\t\t\t\t{isFetching && (<p>Loading ingredients...</p>)}\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{!isFetching && filteredIngredients.map(ingredient => (\n\t\t\t\t\t\t\t\t<li key={ingredient.id}>{ingredient.name}<Button color=\"primary\" onClick={() => AddIngredientToRecipe(ingredient)}>Add</Button></li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<section>\n\t\t\t\t\t<h2>Included ingredients</h2>\n\t\t\t\t\t<div>\n\t\t\t\t\t\t<p>list of ingredients</p>\n\n\n\t\t\t\t\t\t<ul>\n\t\t\t\t\t\t\t{addedIngredients.map(ingredient => (\n\t\t\t\t\t\t\t\t<li>{ingredient.name}</li>\n\t\t\t\t\t\t\t))}\n\t\t\t\t\t\t</ul>\n\n\n\t\t\t\t\t</div>\n\t\t\t\t</section>\n\t\t\t\t<Button>Save</Button>\n\t\t\t</div>\n\t\t</div >\n\t)\n}\n\n// export default AddIngredients;\nfunction mapStateToProps(state) {\n\treturn {\n\t\tisFetching: state.ingredientsReducer.isFetching,\n\t\tingredients: state.ingredientsReducer.ingredients,\n\t\taddedRecipe: state.recipesReducer.addedRecipe,\n\t\taddedIngredients: state.ingredientsReducer.addedIngredients,\n\t\tadded: state.ingredientsReducer.added\n\t}\n}\n\nexport default connect(\n\tmapStateToProps, { getIngredients, addIngredientsToRecipe, getIngredientsByRecipeId }\n)(AddIngredients);\n"]},"metadata":{},"sourceType":"module"}